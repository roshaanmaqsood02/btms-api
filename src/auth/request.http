### Variables
@baseUrl = http://localhost:4000
@contentType = application/json

### OPERATION MANAGER CREDENTIALS
@adminEmail = roshaan@dev.com
@adminPassword = Adminpass123!

### HRM ADMIN CREDENTIALS
@hrmEmail = mahrukh@gmail.com
@hrmPassword = MahrukhHRM123!

### PROJECT MAN

### EMPLOYEE CREDENTIALS
@employeeEmail = shawaizsaeed@gmail.com
@employeePassword = Adminpass123!

### 1. REGISTER USER (Only HRM or ADMIN)
POST {{baseUrl}}/users
Content-Type: {{contentType}}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InJvc2hhYW5AZGV2LmNvbSIsInN1YiI6MTIzLCJ1dWlkIjoiMTExYWMxNGYtNzkyZi00NTkzLWEwYWUtODJkODM5ZDE1NGI2Iiwic3lzdGVtUm9sZSI6IkFETUlOIiwiaWF0IjoxNzY2NjczNTczLCJleHAiOjE3NjY2NzcxNzN9.RTxBLVYf-LuuW5ICihGGZHWVM3Rn2uCmf2Sva5s8by0

{
  "email": "ceo@bracketsltd.email",
  "password": "{{employeePassword}}",
  "name": "Muhammad Awais",
  "gender": "Male",
  "dateOfBirth": "1978-09-16",
  "bloodGroup": "O+",
  "cnic": "34103-2321566-3",
  "maritalStatus": "Married",
  "city": "Gujranwala",
  "country": "Pakistan",
  "phone": "+923001234565",
  "postalCode": "54000",
  "department": "Development",
  "projects": ["None"],
  "positions": ["CEO"],
  "profilePic": "roshaan_pic.jpg",
  "systemRole": "CEO"
}



### 2. LOGIN
POST {{baseUrl}}/auth/login
Content-Type: {{contentType}}

{
  "email": "roshaan@dev.com",
  "password": "{{employeePassword}}"
}

### 4. Get USERS
GET {{baseUrl}}/users?page=1&limit=10&search=subhan
Accept: application/json



### 3. GET PROFILE
GET {{baseUrl}}/auth/profile
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InJvc2hhYW5AZGV2LmNvbSIsInN1YiI6MTIzLCJ1dWlkIjoiMTExYWMxNGYtNzkyZi00NTkzLWEwYWUtODJkODM5ZDE1NGI2Iiwic3lzdGVtUm9sZSI6IkFETUlOIiwiaWF0IjoxNzY2NjY4ODAwLCJleHAiOjE3NjY2NzI0MDB9.F__ZTrhyY6MKtVhByDnZUAVo2nT9WgbTPTg62d3wkJk


### 4. GET Other User Profile
GET {{baseUrl}}/users/126
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InJvc2hhYW5AZGV2LmNvbSIsInN1YiI6MTIzLCJ1dWlkIjoiMTExYWMxNGYtNzkyZi00NTkzLWEwYWUtODJkODM5ZDE1NGI2Iiwic3lzdGVtUm9sZSI6IkFETUlOIiwiaWF0IjoxNzY2NjY4NjAxLCJleHAiOjE3NjY2NzIyMDF9.3GtXDnA7meo6IhDyIO_ux3ZX0thyNE_3TuUbxU6o54g

### 4. UPDATE PROFILE (optional)
PUT {{baseUrl}}/users/140
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InJvc2hhYW5AZGV2LmNvbSIsInN1YiI6MTIzLCJ1dWlkIjoiMTExYWMxNGYtNzkyZi00NTkzLWEwYWUtODJkODM5ZDE1NGI2Iiwic3lzdGVtUm9sZSI6Ik9QRVJBVElPTl9NQU5BR0VSIiwiaWF0IjoxNzY2NjU4ODg3LCJleHAiOjE3NjY2NjI0ODd9.76uXmUZgPkwYvH-4UTtEYQUrKl5rSRkU_8VJzx3DqTc
Content-Type: application/json

{
  "gender": "Female",
  "dateOfBirth": "2002-01-02",
  "bloodGroup": "AB-",
  "cnic": "34104-123456-6",
  "maritalStatus": "Single",
  "city": "Gujranwala",
  "systemRole": "EMPLOYEE"

}

### 5. UPDATE PROFILE PICTURE
PUT {{baseUrl}}/auth/profile/picture
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1haHJ1a2hAZ21haWwuY29tIiwic3ViIjoxMjUsInV1aWQiOiJmOGY1NWMzNi02M2Y2LTRmM2YtOGVlMC04ODVmYjFmZmE5ZTEiLCJzeXN0ZW1Sb2xlIjoiSFJNIiwiaWF0IjoxNzY2NDc3NDA3LCJleHAiOjE3NjY0ODEwMDd9._ZwwNutQfE8R5_VTGGnFmpMrWLcJUxFS_7JrkJEowdg
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary

------WebKitFormBoundary
Content-Disposition: form-data; name="profilePic"; filename="roshaan_pic.jpg"
Content-Type: image/jpeg

<  /roshaan_pic.jpg
------WebKitFormBoundary--

### 6. DELETE ANOTHER USER (Operation Manager deletes another user)
DELETE {{baseUrl}}/users/141
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InJvc2hhYW5AZGV2LmNvbSIsInN1YiI6MTIzLCJ1dWlkIjoiMTExYWMxNGYtNzkyZi00NTkzLWEwYWUtODJkODM5ZDE1NGI2Iiwic3lzdGVtUm9sZSI6IkFETUlOIiwiaWF0IjoxNzY2NjY0ODEyLCJleHAiOjE3NjY2Njg0MTJ9.OUUiS0tDdIuXMGcFdLuDmX4WRJjVP-KFuEoRiYvh1qk
### 7. ATTEMPT TO DELETE SELF (Should fail)
DELETE {{baseUrl}}/users/122 
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InJvc2hhYW5AZGV2LmNvbSIsInN1YiI6MTIyLCJ1dWlkIjoiMGFkNTI5NWMtOTFhZC00M2M1LTlmYWQtMWQ5YzE2MDU1MWM1Iiwic3lzdGVtUm9sZSI6Ik9QRVJBVElPTl9NQU5BR0VSIiwiaWF0IjoxNzY2MTQ5MTk0LCJleHAiOjE3NjYxNTI3OTR9.fOfBkNwrZseHlFQFpaHuB9cEiVwkqiWA3GVq40K-NoY

### Expected response for self-deletion attempt:
# {
#   "statusCode": 403,
#   "message": "You cannot delete your own account"
# }

### 8. DELETE MY OWN ACCOUNT VIA /auth/profile
DELETE {{baseUrl}}/auth/profile
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InJvc2hhYW5AZGV2LmNvbSIsInN1YiI6MTIyLCJ1dWlkIjoiMGFkNTI5NWMtOTFhZC00M2M1LTlmYWQtMWQ5YzE2MDU1MWM1Iiwic3lzdGVtUm9sZSI6Ik9QRVJBVElPTl9NQU5BR0VSIiwiaWF0IjoxNzY2MTQ5MTk0LCJleHAiOjE3NjYxNTI3OTR9.fOfBkNwrZseHlFQFpaHuB9cEiVwkqiWA3GVq40K-NoY
Content-Type: {{contentType}}

{
  "password": "{{adminPassword}}"
}

### Expected response for correct self-deletion
# {
#   "message": "Account deleted successfully"
# }
